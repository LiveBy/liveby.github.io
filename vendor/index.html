<!doctype html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<title>LiveBy Integration API | Users</title>
<meta name="description" content="The LiveBy integration API provides methods for accessing neighborhood information, as well as preferences for users who have created an account through the neighborhood discovery tool for brokerages. The API can be used to build custom integration into a content management or customer relationship management system.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" type="image/png" href="/assets/favicon.png">
<link rel="stylesheet" type="text/css" href="/assets/stylesheets/normalize.css" media="screen">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/assets/stylesheets/stylesheet.css" media="screen">
<link rel="stylesheet" type="text/css" href="/assets/stylesheets/github-light.css" media="screen">
</head>
<body>
<section class="page-header">
<h1 class="project-name">
<a href="/"><img src="/assets/logo.png" alt="LiveBy Integration"></a>
</h1>
</section>
<section class="main-content"><h1 id="vendor-api">Vendor API</h1>
<p>The Vendor API is a RESTful JSON web service for securely retrieving neighborhood preference information for users. <a href="https://qa.liveby.com/contact#interests:api">Contact us</a> to receive a vendor API access token.</p>
<h2 id="endpoints">Endpoints</h2>
<h3 id="vendor-users">vendor/users</h3>
<p><code>https://liveby.co/v1/vendor/users</code></p>
<p>Retrieve neighborhood preference information for users who have created an account on the LiveBy Neighborhood Finder. Information can be requested for a single user, or for all users who created an account within a specific date range.</p>
<p>For example, neighborhood preference information for <code>ben.barber@liveby.co</code> can be accessed at:</p>
<pre><code><span class="hljs-attribute">https</span>://liveby.co/v1/vendor/users?email=ben.barber<span class="hljs-number">%40</span>liveby.co&amp;brokerage=woodsbros&amp;access_token=1GcfIcreeoOLXcXnQl6B<span class="hljs-number">%2</span>Fqriggt79LIyGzMb5tc1YLU<span class="hljs-number">%3</span>D
</code></pre><blockquote>
<p>Note: Query parameters—including the email address—must be encoded/escaped using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent"><code>encodeURIComponent</code></a> or something similar (like <a href="http://us3.php.net/manual/ro/function.rawurlencode.php"><code>rawurlencode</code></a> in PHP).</p>
</blockquote>
<p>Additionally, neighborhood preference information can be requested for users who created an account during a specific date range. For example:</p>
<pre><code><span class="hljs-attribute">https</span>://liveby.co/v1/vendor/users?after=1450132058974&amp;before=1481753256437&amp;brokerage=woodsbros&amp;access_token=1GcfIcreeoOLXcXnQl6B<span class="hljs-number">%2</span>Fqriggt79LIyGzMb5tc1YLU<span class="hljs-number">%3</span>D
</code></pre><h4 id="parameters">Parameters</h4>
<blockquote>
<p>Note: The <code>brokerage</code> and <code>access_token</code> parameters are required for all vendor API requests.</p>
</blockquote>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th>Example</th>
<th style="text-align:center">Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>access_token</code></td>
<td>required</td>
<td>1G2csdf…</td>
<td style="text-align:center"></td>
<td>The access_token provided to your brokerage or vendor. <a href="https://qa.liveby.com/contact#interests:api">Contact us</a> to retrieve an API access token or invalidate a compromised token.</td>
</tr>
<tr>
<td><code>brokerage</code></td>
<td>required</td>
<td>woodsbros</td>
<td style="text-align:center"></td>
<td>The brokerage identifier, which is the same as the last part of the neighborhood finder URL.</td>
</tr>
<tr>
<td><code>email</code></td>
<td></td>
<td>ben.barber%40liveby.co</td>
<td style="text-align:center"></td>
<td>A URL-encoded email address</td>
</tr>
<tr>
<td><code>after</code></td>
<td></td>
<td>1450132058974</td>
<td style="text-align:center">0</td>
<td>A Unix timestamp (in milliseconds) for the beginning date range</td>
</tr>
<tr>
<td><code>before</code></td>
<td></td>
<td>1481753256437</td>
<td style="text-align:center"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now">Date.now()</a></td>
<td>A Unix timestamp (in milliseconds) for the ending date range</td>
</tr>
<tr>
<td><code>page[limit]</code></td>
<td></td>
<td>100</td>
<td style="text-align:center">100</td>
<td>The number of users to return, up to 1000</td>
</tr>
<tr>
<td><code>page[offset]</code></td>
<td></td>
<td>200</td>
<td style="text-align:center">0</td>
<td>The starting point in the user result. Use with <code>limit</code> to implement pagination for results</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Note: Timestamps are specified in <a href="https://en.wikipedia.org/wiki/Unix_time">Unix time</a>, which specifies the number of milliseconds since midnight, January 1, 1970. They can be generated in JavaScript with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getTime">Date#getTime()</a> or in PHP with <a href="http://php.net/manual/en/datetime.gettimestamp.php">DateTime::getTimestamp()</a>.</p>
</blockquote>
<h4 id="response-properties">Response Properties</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>meta.status</code></td>
<td>The HTTP status for the response. Will be <code>200</code> for successful API requests</td>
</tr>
<tr>
<td><code>meta.message</code></td>
<td>The HTTP status message.</td>
</tr>
<tr>
<td><code>errors</code></td>
<td>An array of <strong>error</strong> objects if an error occurred servicing the request</td>
</tr>
<tr>
<td><code>links.next</code></td>
<td>A URL to the next page of results if <code>page[limit]</code> was used</td>
</tr>
<tr>
<td><code>links.prev</code></td>
<td>A URL to the previous page of results. Only present if <code>page[offset]</code> was used</td>
</tr>
<tr>
<td><code>data</code></td>
<td>An array of <a href="#user-response-object"><strong>user</strong></a> objects containing neighborhood preference information</td>
</tr>
</tbody>
</table>
<h4 id="user-response-object">User Response Object</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>_id</code></td>
<td>String</td>
<td>&quot;5732251987513e322cfab8a1&quot;</td>
<td>The unique identifier for the user</td>
</tr>
<tr>
<td><code>email</code></td>
<td>String</td>
<td>&quot;jsmith@example.com&quot;</td>
<td>The email address for the user</td>
</tr>
<tr>
<td><code>fname</code></td>
<td>String</td>
<td>&quot;John&quot;</td>
<td>The user&#39;s first name, or an empty string (&#39;&#39;) if the user did not provide a first name</td>
</tr>
<tr>
<td><code>lname</code></td>
<td>String</td>
<td>&quot;Smith&quot;</td>
<td>The user&#39;s last name, or an empty string if the user did not provide a last name</td>
</tr>
<tr>
<td><code>hasAgent</code></td>
<td>Boolean</td>
<td><code>true</code></td>
<td><code>true</code> if the user identified that they were already working with an agent at time of registration</td>
</tr>
<tr>
<td><code>moveTime</code></td>
<td>String</td>
<td>&quot;6 months&quot;</td>
<td>The amount of time before the user is planning to move. One of &quot;1–3 months&quot;, &quot;6 months&quot;, or &quot;12 months&quot;</td>
</tr>
<tr>
<td><code>created</code></td>
<td>String</td>
<td>&quot;2016-05-10T18:14:49.327Z&quot;</td>
<td>The time stamp when the user registered, specified as a UTC datetime String</td>
</tr>
<tr>
<td><code>preferences</code></td>
<td>Object</td>
<td>See <a href="#example-response">example response</a></td>
<td>An object containing the user&#39;s neighborhood preferences</td>
</tr>
<tr>
<td><code>favorites</code></td>
<td>Array</td>
<td>See <a href="#example-response">example response</a></td>
<td>An array containing the user&#39;s favorite neighborhoods</td>
</tr>
</tbody>
</table>
<h4 id="example-response">Example Response</h4>
<pre><code class="lang-json">{
    <span class="hljs-attr">"meta"</span>: {
        <span class="hljs-attr">"status"</span>: <span class="hljs-number">200</span>,
        <span class="hljs-attr">"message"</span>: <span class="hljs-string">"success"</span>
    },
    <span class="hljs-attr">"links"</span>: {
        <span class="hljs-attr">"self"</span>: <span class="hljs-string">"https://localhost/v1/vendor/user?after=1450132058974&amp;before=1481753256437&amp;&amp;brokerage=liveby&amp;access_token=1GcfIcreeoOLXcXnQl6B%2Fqriggt79LIyGzMb5tc1YLU%3D"</span>
    },
    <span class="hljs-attr">"data"</span>: [
        {
            <span class="hljs-attr">"_id"</span>: <span class="hljs-string">"5732251987513e322cfab8a1"</span>,
            <span class="hljs-attr">"email"</span>: <span class="hljs-string">"test@user.com"</span>,
            <span class="hljs-attr">"fname"</span>: <span class="hljs-string">"Test"</span>,
            <span class="hljs-attr">"lname"</span>: <span class="hljs-string">"User"</span>,
            <span class="hljs-attr">"hasAgent"</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">"moveTime"</span>: <span class="hljs-string">"6 months"</span>,
            <span class="hljs-attr">"created"</span>: <span class="hljs-string">"2016-05-10T18:14:49.327Z"</span>,
            <span class="hljs-attr">"session"</span>: {
                <span class="hljs-attr">"preferences"</span>: {
                    <span class="hljs-attr">"buyBudgetHighIndex"</span>: <span class="hljs-number">100000</span>,
                    <span class="hljs-attr">"buyBudgetLowIndex"</span>: <span class="hljs-literal">null</span>
                },
                <span class="hljs-attr">"favorites"</span>: [
                    {
                        <span class="hljs-attr">"_id"</span>: <span class="hljs-string">"56699b76dd4700202391c616"</span>,
                        <span class="hljs-attr">"label"</span>: <span class="hljs-string">"Westside"</span>,
                        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://liveby.co/liveby/neighborhood/56699b76dd4700202391c616?utm_source=liveby&amp;utm_medium=api"</span>,
                        <span class="hljs-attr">"lat"</span>: <span class="hljs-string">"41.25976992792788"</span>,
                        <span class="hljs-attr">"lon"</span>: <span class="hljs-string">"-96.04126727327323"</span>
                    },
                    {
                        <span class="hljs-attr">"_id"</span>: <span class="hljs-string">"56699b76dd4700202391c618"</span>,
                        <span class="hljs-attr">"label"</span>: <span class="hljs-string">"Aksarben"</span>,
                        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://liveby.co/liveby/neighborhood/56699b76dd4700202391c618?utm_source=liveby&amp;utm_medium=api"</span>,
                        <span class="hljs-attr">"lat"</span>: <span class="hljs-string">"41.2357568112745"</span>,
                        <span class="hljs-attr">"lon"</span>: <span class="hljs-string">"-96.00966760294118"</span>
                    },
                    {
                        <span class="hljs-attr">"_id"</span>: <span class="hljs-string">"56699b76dd4700202391c61a"</span>,
                        <span class="hljs-attr">"label"</span>: <span class="hljs-string">"Colonial Hills"</span>,
                        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://liveby.co/liveby/neighborhood/56699b76dd4700202391c61a?utm_source=liveby&amp;utm_medium=api"</span>,
                        <span class="hljs-attr">"lat"</span>: <span class="hljs-string">"40.761958765137635"</span>,
                        <span class="hljs-attr">"lon"</span>: <span class="hljs-string">"-96.63362331009176"</span>
                    },
                    {
                        <span class="hljs-attr">"_id"</span>: <span class="hljs-string">"56699b76dd4700202391c61c"</span>,
                        <span class="hljs-attr">"label"</span>: <span class="hljs-string">"Haymarket"</span>,
                        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://liveby.co/liveby/neighborhood/56699b76dd4700202391c61c?utm_source=liveby&amp;utm_medium=api"</span>,
                        <span class="hljs-attr">"lat"</span>: <span class="hljs-string">"40.81228593212669"</span>,
                        <span class="hljs-attr">"lon"</span>: <span class="hljs-string">"-96.70411726696835"</span>
                    }
                ]
            }
        },
        {
            <span class="hljs-attr">"_id"</span>: <span class="hljs-string">"573236637f816d8c0ffc3a73"</span>,
            <span class="hljs-attr">"email"</span>: <span class="hljs-string">"joel@liveby.co"</span>,
            <span class="hljs-attr">"fname"</span>: <span class="hljs-string">"Joel"</span>,
            <span class="hljs-attr">"lname"</span>: <span class="hljs-string">"Gimbel"</span>,
            <span class="hljs-attr">"hasAgent"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"moveTime"</span>: <span class="hljs-string">"1 month"</span>,
            <span class="hljs-attr">"created"</span>: <span class="hljs-string">"2016-05-10T19:28:35.923Z"</span>,
            <span class="hljs-attr">"session"</span>: {
                <span class="hljs-attr">"preferences"</span>: {
                    <span class="hljs-attr">"walk_score"</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">"transit_stops"</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">"transit_score"</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">"drive_score"</span>: <span class="hljs-literal">true</span>,
                    <span class="hljs-attr">"bike_score"</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">"commute_method"</span>: <span class="hljs-string">"car"</span>,
                    <span class="hljs-attr">"library_score"</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">"entertainment_score"</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">"brewery_score"</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">"bakery_score"</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">"coffeeshop_score"</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">"lot_size"</span>: <span class="hljs-string">"no_preference"</span>,
                    <span class="hljs-attr">"household_type"</span>: <span class="hljs-string">"apartment_condo"</span>,
                    <span class="hljs-attr">"buyBudgetHighIndex"</span>: <span class="hljs-literal">null</span>,
                    <span class="hljs-attr">"buyBudgetLowIndex"</span>: <span class="hljs-literal">null</span>
                },
                <span class="hljs-attr">"favorites"</span>: [
                    {
                        <span class="hljs-attr">"_id"</span>: <span class="hljs-string">"56699b76dd4700202391c61a"</span>,
                        <span class="hljs-attr">"label"</span>: <span class="hljs-string">"Colonial Hills"</span>,
                        <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://liveby.co/liveby/neighborhood/56699b76dd4700202391c61a?utm_source=liveby&amp;utm_medium=api"</span>,
                        <span class="hljs-attr">"lat"</span>: <span class="hljs-string">"40.761958765137635"</span>,
                        <span class="hljs-attr">"lon"</span>: <span class="hljs-string">"-96.63362331009176"</span>
                    }
                ]
            }
        },
        {
            <span class="hljs-attr">"_id"</span>: <span class="hljs-string">"573246f587513e322cfab8a2"</span>,
            <span class="hljs-attr">"email"</span>: <span class="hljs-string">"favorites@test.com"</span>,
            <span class="hljs-attr">"fname"</span>: <span class="hljs-string">"Test"</span>,
            <span class="hljs-attr">"lname"</span>: <span class="hljs-string">"Email"</span>,
            <span class="hljs-attr">"hasAgent"</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">"moveTime"</span>: <span class="hljs-string">"6 months"</span>,
            <span class="hljs-attr">"created"</span>: <span class="hljs-string">"2016-05-10T20:39:17.884Z"</span>,
            <span class="hljs-attr">"session"</span>: {
                <span class="hljs-attr">"preferences"</span>: {
                    <span class="hljs-attr">"household_type"</span>: <span class="hljs-string">"apartment_condo"</span>,
                    <span class="hljs-attr">"buy_or_rent"</span>: <span class="hljs-string">"buy"</span>,
                    <span class="hljs-attr">"gym_score"</span>: <span class="hljs-literal">true</span>,
                    <span class="hljs-attr">"busstop_score"</span>: <span class="hljs-literal">true</span>,
                    <span class="hljs-attr">"bikeshare_score"</span>: <span class="hljs-literal">true</span>,
                    <span class="hljs-attr">"buyBudgetHighIndex"</span>: <span class="hljs-literal">null</span>,
                    <span class="hljs-attr">"buyBudgetLowIndex"</span>: <span class="hljs-literal">null</span>
                },
                <span class="hljs-attr">"favorites"</span>: []
            }
        }
    ]
}
</code></pre>
</section>
</body>
</html>